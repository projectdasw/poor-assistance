{% block styles  %}
    <link href="{{ static 'fontawesome/css/all.css' }}" rel="stylesheet"/>
    <link href="{{ static 'fontawesome/css/solid.css' }}" rel="stylesheet"/>
    <link href="{{ static 'fontawesome/css/brands.css' }}" rel="stylesheet"/>
{% endblock %}

{{ block title }}
    <span hidden>Sesi Latihan</span>
{{ endblock }}

{{ block content }}
    <div class="badge bg-warning text-dark mb-2">
        <h5 class="m-0">Latihan</h5>
    </div>
    <div class="card mb-3">
        <div class="card-header">
            <span class="badge bg-success fs-6 me-2">
                Periode : {{ player.round_number }}
            </span>
            <span class="badge bg-primary fs-6 me-2">
                Ronde : 4
            </span>
            <span class="badge bg-danger fs-6">
                Endowment Anda: {{ player.endowment }}
            </span>
            {{ if player.endowment < 0 or player.endowment == 0 }}
                <button class="otree-btn-next badge btn btn-primary fs-6 ms-2">
                    Lanjut
                </button>
            {{ endif }}
        </div>
        <div class="card-body">
            <div class="card-title">
                {{ if player.endowment < 0 or player.endowment == 0 }}
                    <div class="alert alert-danger" role="alert">
                        <i class="fa-solid fa-circle-exclamation me-1"></i>
                        <span>
                            <strong>Endowment Anda tidak cukup untuk mengalokasikan opsi yang tersedia</strong>.
                            Silahkan klik <strong>"Lanjut"</strong>.
                        </span>
                    </div>
                {{ endif }}
                <h1>ASIAN Handicap - Allocation</h1>
                <p>
                    Pada ronde ini, Anda memiliki kembali kesempatan untuk meningkatkan Endowment yang Anda miliki
                    sekarang dari skema investasi sebagai berikut
                </p>
                <div class="alert alert-success" role="alert">
                    <h4 class="alert-heading">
                        Isikan Alokasi sesuai kalkulasi Anda sendiri
                    </h4>
                    <hr>
                    <p>
                        <ol>
                            <li>
                                Jika Anda sukses, maka alokasi Anda akan dikalikan return yang tertera
                            </li>
                            <li>
                                Jika Anda gagal, maka Anda mendapatkan 0 dari alokasi Anda
                            </li>
                        </ol>
                    </p>
                </div>
            </div>
            <div class="card-text">
                <form method="post">
                    <!-- Tabel untuk menampilkan semua opsi investasi -->
                    <table class="table table-bordered">
                        <thead>
                            <th class="col">No.</th>
                            <th class="col">Return</th>
                            <th class="col">Probabilitas</th>
                            <th class="col">Masukkan Alokasi Dana</th>
                        </thead>
                        <tbody>
                            {{ for scheme in investment_scheme }}
                                <tr>
                                    <td>{{ forloop.counter }}</td>
                                    <td>{{ scheme.investment_return }}</td>
                                    <td>{{ scheme.probability }}</td>
                                    <td>
                                        {{ if player.endowment < 0 or player.endowment == 0 }}
                                            <input type="number" class="form-control"
                                               name="asian_ev_{{ forloop.counter }}" step="0.01" value="0" readonly>
                                        {{ else }}
                                            <input type="number" class="form-control"
                                               name="asian_ev_{{ forloop.counter }}" step="0.01" value="0" required>
                                        {{ endif }}
                                    </td>
                                </tr>
                            {{ endfor }}
                        </tbody>
                    </table>
                    {{ if player.endowment < 0 or player.endowment == 0 }}
                        <button type="submit" class="btn btn-outline-primary" disabled>
                            <span>Submit</span>
                            <i class="fa-solid fa-chevron-right"></i>
                        </button>
                    {{ else }}
                        <button type="submit" class="btn btn-outline-primary">
                            <span>Submit</span>
                            <i class="fa-solid fa-chevron-right"></i>
                        </button>
                    {{ endif }}
                </form>
            </div>
        </div>
    </div>
{{ endblock }}